"0","# Create wide-format lemma proportions"
"0","lemma.freq.wide <- lemmatized.data %>%"
"0","  count(medical_specialty, lemma) %>%"
"0","  group_by(medical_specialty) %>%"
"0","  mutate(proportion = n / sum(n)) %>%"
"0","  select(medical_specialty, lemma, proportion) %>%"
"0","  pivot_wider(names_from = medical_specialty, values_from = proportion, values_fill = 0)"
"0",""
"0","# Filter to only terms that exist in both"
"0","lemma.freq.filtered <- lemma.freq.wide %>%"
"0","  filter(Surgery > 0 & Radiology > 0)"
"0",""
"0","# Plot Surgery vs Radiology directly"
"0","ggplot(lemma.freq.filtered, aes(x = Surgery, y = Radiology,"
"0","                                color = abs(Surgery - Radiology))) +"
"0","  geom_abline(color = ""gray40"", lty = 2) +"
"0","  geom_jitter(alpha = 0.1, size = 2.5, width = 0.3, height = 0.3) +"
"0","  geom_text(aes(label = lemma), check_overlap = TRUE, vjust = 1.5) +"
"0","  scale_x_log10(labels = scales::percent_format()) + "
"0","  scale_y_log10(labels = scales::percent_format()) + "
"0","  scale_color_gradient(limits = c(0, 0.001), low = ""darkslategray4"", high = ""gray75"") +"
"0","  labs(x = ""Surgery"", y = ""Radiology"", title = ""Lemma Frequency Comparison"") +"
"0","  theme(legend.position = ""none"")"
